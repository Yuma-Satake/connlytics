# Webアプリケーション仕様

## 概要

connpassイベント説明文のMarkdownをプレビュー・編集するためのWebアプリケーション。

## 機能一覧

### Phase 1: Markdownプレビュー機能

#### F-WEB-001: Markdownエディタ

**概要**: Markdownテキストを編集するためのエディタ機能

**要件**:
- シンタックスハイライト対応のテキストエディタ
- 行番号表示
- 基本的なキーボードショートカット（Cmd/Ctrl + B: 太字, Cmd/Ctrl + I: 斜体 等）
- Undo/Redo対応

**UI仕様**:
- 左側にエディタ、右側にプレビューの2ペイン構成
- レスポンシブ対応（モバイルではタブ切り替え）

#### F-WEB-002: Markdownプレビュー

**概要**: 編集中のMarkdownをconnpassスタイルでリアルタイムプレビュー

**要件**:
- リアルタイムプレビュー（入力に追従）
- connpassのスタイルを再現
- 画像のプレビュー表示

**対応Markdown記法**:
- 見出し（h1-h6）
- リスト（順序付き/順序なし）
- リンク
- 画像
- コードブロック/インラインコード
- 引用
- 太字/斜体
- 水平線
- テーブル

#### F-WEB-003: Chrome拡張連携

**概要**: Chrome拡張からMarkdownデータを受信して編集を開始

**要件**:
- Chrome拡張からのデータ受信
- 受信したMarkdownをエディタに自動セット
- イベント情報（タイトル、URL）の表示

**通信方式**:
- URLパラメータまたはpostMessage経由でデータ受信

#### F-WEB-004: エクスポート機能

**概要**: 編集したMarkdownをコピー/ダウンロード

**要件**:
- クリップボードへのコピー機能
- Markdownファイルとしてダウンロード

## 画面仕様

### エディタ画面 (`/editor`)

```
┌─────────────────────────────────────────────────────────────────┐
│  Connlytics - Markdownエディタ                    [コピー][DL]  │
├─────────────────────────────────────────────────────────────────┤
│  イベント: [イベントタイトル]                                    │
│  URL: https://connpass.com/event/xxxxx/                        │
├───────────────────────────────┬─────────────────────────────────┤
│                               │                                 │
│         エディタ              │          プレビュー              │
│                               │                                 │
│  # イベント概要               │  イベント概要                   │
│                               │  ───────────                   │
│  connpassの勉強会です。       │  connpassの勉強会です。         │
│                               │                                 │
│  ## タイムテーブル            │  タイムテーブル                  │
│                               │  ─────────                     │
│  | 時間 | 内容 |              │  ┌──────┬─────────┐            │
│  |------|------|              │  │ 時間 │ 内容    │            │
│  | 19:00| 開場 |              │  ├──────┼─────────┤            │
│                               │  │19:00 │ 開場    │            │
│                               │                                 │
└───────────────────────────────┴─────────────────────────────────┘
```

### ホーム画面 (`/`)

- サービス概要の説明
- Chrome拡張へのリンク
- 直接エディタを開くボタン

## 非機能要件

### パフォーマンス

- 初期表示: 3秒以内
- プレビュー更新: 入力から100ms以内

### ブラウザ対応

- Chrome（最新版）
- Firefox（最新版）
- Safari（最新版）
- Edge（最新版）

### アクセシビリティ

- キーボード操作対応
- スクリーンリーダー対応

## API仕様

### 内部通信

Chrome拡張との通信にはpostMessageを使用。

```typescript
interface EditorMessage {
  type: 'LOAD_MARKDOWN';
  payload: {
    markdown: string;
    eventTitle: string;
    eventUrl: string;
  };
}
```
